<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th√™m th√¥ng b√°o m·∫´u</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #b71c1c;
            text-align: center;
        }
        button {
            background: #b71c1c;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
        }
        button:hover {
            background: #d32f2f;
        }
        .status {
            text-align: center;
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîî Th√™m th√¥ng b√°o m·∫´u v√†o eTax Mobile</h1>
        
        <div id="status" class="status info">
            Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ th√™m th√¥ng b√°o m·∫´u v√†o Firebase Database
        </div>
        
        <button onclick="addNotifications()">Th√™m th√¥ng b√°o m·∫´u</button>
        
        <div id="result"></div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyD_rJgBFgBulheVenQUE2KXr4PBpSpTCxw",
            authDomain: "etax-7fbf8.firebaseapp.com",
            databaseURL: "https://etax-7fbf8-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "etax-7fbf8",
            storageBucket: "etax-7fbf8.appspot.com",
            messagingSenderId: "1030026724634",
            appId: "1:1030026724634:web:d76f5f9dad43bad6fd58a3"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const sampleNotifications = {
            "notif_001": {
                title: "Giao d·ªãch n·ªôp thu·∫ø",
                content: "Ng∆∞·ªùi n·ªôp thu·∫ø ƒë√£ n·ªôp thu·∫ø th√†nh c√¥ng. M√£ tham chi·∫øu: 11020250044818128. S·ªë ti·ªÅn n·ªôp: 2,500,000 VNƒê. Th·ªùi gian: 11/10/2025 12:37:23",
                type: "personal",
                targetUser: "0123456789",
                publishDate: new Date("2025-10-11T12:37:23").getTime(),
                category: "payment"
            },
            "notif_002": {
                title: "Th√¥ng b√°o k·∫ø ho·∫°ch t·∫°m d·ª´ng h·ªá th·ªëng",
                content: "C·ª•c Thu·∫ø th√¥ng b√°o v·ªÅ vi·ªác t·∫°m d·ª´ng c√°c h·ªá th·ªëng thu·∫ø ƒëi·ªán t·ª≠ t·ª´ 18h00 ng√†y 27/6/2025 ƒë·∫øn 06h00 ng√†y 28/6/2025 ƒë·ªÉ b·∫£o tr√¨ h·ªá th·ªëng.",
                type: "general",
                publishDate: new Date("2025-06-27T15:05:59").getTime(),
                category: "system"
            },
            "notif_003": {
                title: "Th√¥ng b√°o k·∫ø ho·∫°ch t·∫°m d·ª´ng h·ªá th·ªëng",
                content: "C·ª•c Thu·∫ø th√¥ng b√°o v·ªÅ vi·ªác t·∫°m d·ª´ng D·ªãch v·ª• Thu·∫ø ƒëi·ªán t·ª≠ tr√™n thi·∫øt b·ªã di ƒë·ªông (eTax Mobile) t·ª´ 22h00 ng√†y 13/6/2025 ƒë·∫øn 06h00 ng√†y 14/6/2025.",
                type: "general",
                publishDate: new Date("2025-06-13T16:34:34").getTime(),
                category: "system"
            },
            "notif_004": {
                title: "Th√¥ng b√°o k·∫ø ho·∫°ch t·∫°m d·ª´ng h·ªá th·ªëng",
                content: "C·ª•c Thu·∫ø th√¥ng b√°o v·ªÅ vi·ªác t·∫°m d·ª´ng D·ªãch v·ª• Thu·∫ø ƒëi·ªán t·ª≠ tr√™n thi·∫øt b·ªã di ƒë·ªông (eTax Mobile) t·ª´ 22h00 ng√†y 13/6/2025 ƒë·∫øn 06h00 ng√†y 14/6/2025.",
                type: "general",
                publishDate: new Date("2025-06-13T16:24:25").getTime(),
                category: "system"
            },
            "notif_005": {
                title: "V/v: T√†i kho·∫£n giao d·ªãch thu·∫ø ƒëi·ªán t·ª≠",
                content: "Th√¥ng b√°o v·ªÅ vi·ªác c·∫≠p nh·∫≠t th√¥ng tin t√†i kho·∫£n giao d·ªãch thu·∫ø ƒëi·ªán t·ª≠. Vui l√≤ng ki·ªÉm tra v√† c·∫≠p nh·∫≠t th√¥ng tin t√†i kho·∫£n c·ªßa b·∫°n.",
                type: "personal",
                targetUser: "0123456789",
                publishDate: new Date("2025-06-04T13:27:39").getTime(),
                category: "account"
            },
            "notif_006": {
                title: "Th√¥ng b√°o nghƒ©a v·ª• thu·∫ø m·ªõi",
                content: "C√≥ nghƒ©a v·ª• thu·∫ø m·ªõi ph√°t sinh. S·ªë ti·ªÅn: 1,200,000 VNƒê. H·∫°n n·ªôp: 25/10/2025. Vui l√≤ng th·ª±c hi·ªán nghƒ©a v·ª• thu·∫ø ƒë√∫ng h·∫°n.",
                type: "personal",
                targetUser: "0123456789",
                publishDate: new Date("2025-10-15T09:15:30").getTime(),
                category: "tax_obligation"
            },
            "notif_007": {
                title: "C·∫≠p nh·∫≠t ph·∫ßn m·ªÅm eTax Mobile",
                content: "Phi√™n b·∫£n m·ªõi c·ªßa ·ª©ng d·ª•ng eTax Mobile ƒë√£ c√≥ s·∫µn. Vui l√≤ng c·∫≠p nh·∫≠t ƒë·ªÉ c√≥ tr·∫£i nghi·ªám t·ªët nh·∫•t v√† c√°c t√≠nh nƒÉng m·ªõi.",
                type: "general",
                publishDate: new Date("2025-10-12T14:20:15").getTime(),
                category: "update"
            }
        };

        async function addNotifications() {
            const statusDiv = document.getElementById('status');
            const resultDiv = document.getElementById('result');
            
            statusDiv.className = 'status info';
            statusDiv.textContent = 'ƒêang th√™m th√¥ng b√°o...';
            resultDiv.innerHTML = '';

            try {
                let addedCount = 0;
                
                for (const [key, notification] of Object.entries(sampleNotifications)) {
                    await db.ref(`notifications/${key}`).set(notification);
                    addedCount++;
                    
                    // Hi·ªÉn th·ªã ti·∫øn ƒë·ªô
                    statusDiv.textContent = `ƒêang th√™m th√¥ng b√°o ${addedCount}/${Object.keys(sampleNotifications).length}...`;
                }
                
                statusDiv.className = 'status success';
                statusDiv.textContent = `‚úÖ Ho√†n th√†nh! ƒê√£ th√™m ${addedCount} th√¥ng b√°o m·∫´u.`;
                
                resultDiv.innerHTML = `
                    <h3>üìã Danh s√°ch th√¥ng b√°o ƒë√£ th√™m:</h3>
                    <ul>
                        <li>Giao d·ªãch n·ªôp thu·∫ø (Personal)</li>
                        <li>Th√¥ng b√°o k·∫ø ho·∫°ch t·∫°m d·ª´ng h·ªá th·ªëng (General)</li>
                        <li>Th√¥ng b√°o k·∫ø ho·∫°ch t·∫°m d·ª´ng h·ªá th·ªëng (General)</li>
                        <li>Th√¥ng b√°o k·∫ø ho·∫°ch t·∫°m d·ª´ng h·ªá th·ªëng (General)</li>
                        <li>T√†i kho·∫£n giao d·ªãch thu·∫ø ƒëi·ªán t·ª≠ (Personal)</li>
                        <li>Th√¥ng b√°o nghƒ©a v·ª• thu·∫ø m·ªõi (Personal)</li>
                        <li>C·∫≠p nh·∫≠t ph·∫ßn m·ªÅm eTax Mobile (General)</li>
                    </ul>
                    <p><strong>üí° L∆∞u √Ω:</strong> Th√¥ng b√°o Personal s·∫Ω ch·ªâ hi·ªÉn th·ªã cho user c√≥ MST: 0123456789</p>
                `;
                
            } catch (error) {
                statusDiv.className = 'status error';
                statusDiv.textContent = `‚ùå L·ªói: ${error.message}`;
                console.error('Error:', error);
            }
        }
    </script>
</body>
</html>
